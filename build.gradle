apply plugin: 'java'
apply plugin: 'idea'

repositories {
    mavenCentral()
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.9'
}

dependencies {
    compile(
            'org.eclipse.jetty:jetty-server:9.1.0.v20131115',
            'org.eclipse.jetty:jetty-servlet:9.1.0.v20131115'
    )
}

task packageJar(type: Jar, dependsOn: jar) {
    classifier = 'standalone'

    from files(sourceSets.main.output.classesDir)
    from configurations.runtime.asFileTree.files.collect { zipTree(it) }
    manifest {
        attributes 'Main-Class': 'com.org.lovingcat.Main'
    }
}

artifacts {
    archives packageJar
}
